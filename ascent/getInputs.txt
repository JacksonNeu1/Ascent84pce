


get_inputs:
	ld	hl,DI_Mode		; register for keypad mode
	ld	(hl),2			; set single scan mode

	xor	a,a
scan_wait:
	cp	a,(hl)			; wait for keypad idle mode
	jr	nz,scan_wait
	
	; https://wikiti.brandonw.net/index.php?title=84PCE:Ports:A000
	
	ld	a,(kbdG7) ; $F5001E
 	bit	kbitUp,a
	push af 
	jp nz, input_cam_up
	pop af 
	
	bit	kbitDown,a
	jp nz, input_cam_down


	ld a,(kbdG6)
	bit kbitClear,a
	jp nz,exit_prgm
	
	ld a,(kbdG5)
	bit kbit6,a 
	call nz, charge_jump_right
	
	ld a,(kbdG3)
	bit kbit4,a 
	call nz, charge_jump_left
	

	jp get_inputs_return
	
	
input_cam_up:
	;Move cam
	ld hl,(cam_pos)
	
	push hl 
	ld bc,2500
	sbc hl,bc 
	pop hl 
	jp nc, get_inputs_return
	
	inc hl
	inc hl
	inc hl
	inc hl
	inc hl
	inc hl
	inc hl
	inc hl
	
	ld (cam_pos),hl
	jp get_inputs_return


input_cam_down:
	;Move cam
	ld hl,(cam_pos)
	
	
	push hl 
	ld bc,10 
	sbc hl,bc 
	pop hl 
	jp c, get_inputs_return
	
	dec hl
	dec hl
	dec hl
	dec hl
	dec hl
	dec hl
	dec hl
	dec hl
	
	
	
	
	
	ld (cam_pos),hl
	jp get_inputs_return
	
	
	